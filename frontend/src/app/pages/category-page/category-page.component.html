<div class="p-grid p-jc-center">
  <div class="p-sm-12 p-md-6 p-lg-4">
    <div class="p-fluid search-bar">
      <p-autoComplete
        [(ngModel)]="text"
        [suggestions]="jobs | async"
        (completeMethod)="onSearch($event)"
        (onSelect)="onSelect($event)"
        [delay]="800"
        scrollHeight="250"
        type="search"
        placeholder="ค้นหาอาชีพ"
      >
        <ng-template let-job pTemplate="item">
          <div>{{ job.item.title }}</div>
        </ng-template>
      </p-autoComplete>
    </div>

    <div class="p-text-left category-header">เลือกสายงานที่สนใจ</div>

    <p-dataView [value]="categories | async" layout="list">
      <ng-template let-category pTemplate="listItem">
        <div class="category-list-item">
          <div class="category-list-detail">
            <div class="category-name">{{ category.title }}</div>
          </div>
          <!-- <div class="product-list-action"> -->
          <p-button
            pRipple
            icon="pi pi-chevron-right"
            styleClass="p-button-rounded p-button-text"
          ></p-button>
          <!-- </div> -->
        </div>
      </ng-template>
    </p-dataView>
  </div>
</div>

<span *ngIf="selectedResult">
  <p-dialog
    [(visible)]="displayModal"
    [modal]="true"
    [style]="{ width: '50vw' }"
    [baseZIndex]="10000"
    [draggable]="false"
    [resizable]="false"
  >
    <ng-template pTemplate="header">
      <div>
        {{ selectedResult.title }}
      </div>
    </ng-template>
    <ng-template pTemplate="footer">
      <p-button
        icon="pi pi-check"
        (click)="displayModal = false"
        label="Ok"
        styleClass="p-button-text"
      ></p-button>
    </ng-template>
  </p-dialog>
</span>
